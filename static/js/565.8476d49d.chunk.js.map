{"version":3,"file":"static/js/565.8476d49d.chunk.js","mappings":"sQAKaA,EAAS,SAAAC,GAAU,IAAD,EAC7B,GAA4BC,EAAAA,EAAAA,YAA5B,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,IAQ3CC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVF,EAAJ,CACA,IAAMG,EAAoB,mCAAG,WAAMC,GAAN,gGAEFC,EAAAA,EAAAA,qBAAyBL,GAFvB,OAEnBM,EAFmB,OAIzBV,EAAUU,EAASC,KAAKC,SAJC,gDAMzBC,QAAQC,IAAR,MANyB,yDAAH,sDAU1BP,EAAqBH,EAXG,CAYzB,GAAE,CAACA,IAQJ,OACE,4BACE,kBAAMW,UAAU,cAAcC,SARb,SAAAR,GACnBA,EAAMS,iBACN,IAAMC,EAAOV,EAAMW,cACnBhB,EAAgB,CAAEC,MAAOc,EAAKE,SAAShB,MAAMiB,OAC9C,EAIG,WACE,kBACEN,UAAU,qBACVO,KAAK,OACLC,KAAK,QACLC,YAAY,gBACZH,MAAOjB,EACPqB,SAAU,SAAAjB,GAAK,OAAIL,EAAgB,CAAEC,MAAOI,EAAMkB,OAAOL,OAA1C,KAEjB,mBAAQN,UAAU,sBAAsBO,KAAK,SAA7C,uBAtCkB,SAAAvB,GACtB,GAAc,MAAVA,EACF,OAAO,SAAC,IAAD,CAAY4B,WAAY5B,GAElC,CAsCI6B,CAAgB7B,KAGtB,C","sources":["pages/Search.jsx"],"sourcesContent":["import { MoviesList } from 'components/MoviesList';\nimport { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport api from '../services/api';\n\nexport const Search = props => {\n  const [movies, setMovies] = useState();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const renderMovieList = movies => {\n    if (movies != null) {\n      return <MoviesList moviesList={movies} />;\n    }\n  };\n\n  useEffect(() => {\n    if (query === '') return;\n    const fetchMoviesWithQuery = async event => {\n      try {\n        const response = await api.fetchMoviesWithQuery(query);\n        // console.log(response.data);\n        setMovies(response.data.results);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchMoviesWithQuery(query);\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    setSearchParams({ query: form.elements.query.value });\n  };\n\n  return (\n    <div>\n      <form className=\"search-form\" onSubmit={handleSubmit}>\n        <input\n          className=\"search-form__input\"\n          type=\"text\"\n          name=\"query\"\n          placeholder=\"Search movies\"\n          value={query}\n          onChange={event => setSearchParams({ query: event.target.value })}\n        />\n        <button className=\"search-form__button\" type=\"submit\">\n          Search\n        </button>\n      </form>\n      {renderMovieList(movies)}\n    </div>\n  );\n};\n"],"names":["Search","props","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchMoviesWithQuery","event","api","response","data","results","console","log","className","onSubmit","preventDefault","form","currentTarget","elements","value","type","name","placeholder","onChange","target","moviesList","renderMovieList"],"sourceRoot":""}